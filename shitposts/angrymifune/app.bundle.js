/*! For license information please see app.bundle.js.LICENSE.txt */
!function(e){function t(t){for(var s,n,r=t[0],h=t[1],c=t[2],l=0,p=[];l<r.length;l++)n=r[l],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&p.push(o[n][0]),o[n]=0;for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(e[s]=h[s]);for(u&&u(t);p.length;)p.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],s=!0,r=1;r<i.length;r++){var h=i[r];0!==o[h]&&(s=!1)}s&&(a.splice(t--,1),e=n(n.s=i[0]))}return e}var s={},o={app:0},a=[];function n(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=s,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var r=window.webpackJsonp=window.webpackJsonp||[],h=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=h;a.push(["./src/main.ts","vendors"]),i()}({"./src/main.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("./node_modules/phaser/src/phaser.js"),o=i("./src/scenes/one.ts"),a={title:"Sample",type:s.AUTO,scale:{mode:s.Scale.FIT,autoCenter:s.Scale.CENTER_BOTH,width:1920,height:1080},physics:{default:"arcade",arcade:{debug:!0}},parent:"game",backgroundColor:"#000000",scene:o.SceneOne};t.game=new s.Game(a)},"./src/plugins/dialog.ts":function(e,t,i){"use strict";var s,o=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n=i("./node_modules/phaser/src/phaser.js"),r=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.init=function(e){e||(e={}),this.borderThickness=e.borderThickness||3,this.borderColor=e.borderColor||9467720,this.borderAlpha=e.borderAlpha||1,this.windowAlpha=e.windowAlpha||.9,this.windowColor=e.windowColor||16777215,this.windowHeight=e.windowHeight||300,this.margin=e.margin||{top:70,left:350,right:350},this.messageSpeed=e.messageSpeed||10,this.sound=e.sound||null,this.eventCounter=0,this.visible=!1,this.text,this.message,this.images=[],this.characterName=null,this.characterNameText,this.drawn=!1,this.autoclose=!1,this.textStyle={color:"#2b2b2b",fontFamily:"Mukta",fontSize:42},e.scene&&(this.scene=e.scene)},t.prototype.setScene=function(e){this.scene=e},t.prototype._getNameplateShiftAmount=function(e){return"Shioriko"===e?.6:0},t.prototype._processPixel=function(e,t,i){var s=e[t],o=e[t+1],a=e[t+2],r=n.Display.Color.RGBToHSV(s,o,a),h=r.h+i,c=n.Display.Color.HSVToRGB(h,r.s,r.v);e[t]=c.r,e[t+1]=c.g,e[t+2]=c.b},t.prototype.start=function(){this._createWindow()},t.prototype._getGameWidth=function(){return Number(this.game.config.width)},t.prototype._getGameHeight=function(){return Number(this.game.config.height)},t.prototype._loadWindow=function(){this.scene.load.image("messageWindowBack","./assets/images/system/textbox.png"),this.scene.load.image("nameplateBack","./assets/images/system/nameplate.png")},t.prototype._createWindow=function(){var e=this;this._loadWindow();var t=this._getGameHeight(),i=this._getGameWidth(),s=function(){e.game.events.emit("dialogModalClicked")},o=this.scene.make.zone({x:0,y:820,width:i,height:t});o.setOrigin(0,0),o.setInteractive(),o.on("pointerdown",s),this.scene.input.keyboard.addKey("ENTER").on("up",s)},t.prototype.hide=function(){this.visible&&this.toggleWindow()},t.prototype.show=function(){this.visible||this.toggleWindow()},t.prototype.toggleWindow=function(e){var t=this;this.visible=void 0===e?!this.visible:e;var i=[];this.text&&i.push(this.text),i.push(this.images.messageWindow),i.push(this.characterNameText),this.characterName&&i.push(this.images.nameplate),this.visible&&i.map((function(e){e.visible=1})),this.scene.add.tween({targets:i,duration:600,alpha:this.visible?{from:0,to:1}:{from:1,to:0},onComplete:function(){t.visible||i.map((function(e){e.visible=0}))}})},t.prototype._draw=function(){this._createWindowBg(),this._createNameText(),this._shiftNameplate()},t.prototype._createWindowBg=function(){this.images.messageWindow||(this.images.messageWindow=this.scene.add.image(0,0,"messageWindowBack"),this.images.messageWindow.setOrigin(0,0),this.images.messageWindow.setAlpha(0),this.images.messageWindow.setDepth(1800))},t.prototype._createNameText=function(){if(!this.characterNameText){var e=a(a({},this.textStyle),{wordWrap:{width:600},fixedHeight:56,shadow:{offsetX:2,offsetY:2,color:"#666666",blur:2,fill:!0}});this.characterNameText=this.scene.make.text({x:290,y:778,text:this.characterName||"",style:e}),this.characterNameText.setDepth(1802)}},t.prototype._resetNameplate=function(){this.images.nameplate&&(this.images.nameplateTexture=null,this.images.shiftedNameplateTexture.destroy(),this.images.shiftedNameplateContext=null,this.images.nameplate.destroy()),this.images.nameplateTexture=this.scene.textures.get("nameplateBack").getSourceImage(),this.images.shiftedNameplateTexture=this.scene.textures.createCanvas("shiftedTextNameplateBg",this.images.nameplateTexture.width,this.images.nameplateTexture.height),this.images.shiftedNameplateContext=this.images.shiftedNameplateTexture.getSourceImage().getContext("2d"),this.images.shiftedNameplateContext.drawImage(this.images.nameplateTexture,0,0),this.images.nameplate=this.scene.add.image(197,770,"shiftedTextNameplateBg"),this.images.nameplate.setOrigin(0,0),this.images.nameplate.setAlpha(0),this.images.nameplate.setDepth(1801),this.images.shiftedNameplateTexture.refresh()},t.prototype._shiftNameplate=function(){if(this._resetNameplate(),this.characterName){this.characterNameText.setText(this.characterName),this.characterNameText.setAlpha(1),console.log("Yeah! Maximum alpha!"),this.images.nameplate.setAlpha(1);for(var e=this.images.shiftedNameplateContext.getImageData(0,0,this.images.nameplateTexture.width,this.images.nameplateTexture.height),t=0;t<e.data.length/4;t++)this._processPixel(e.data,4*t,this._getNameplateShiftAmount(this.characterName));this.images.shiftedNameplateContext.putImageData(e,0,0),this.images.shiftedNameplateTexture.refresh()}else console.log("Time to die!"),this.characterNameText.setAlpha(0),this.images.nameplate.setAlpha(0)},t.prototype.setText=function(e,t,i){var s;this.drawn||(this.drawn=!0,this._draw()),i||(i={}),i.animate=i.animate||!0,i.append=i.append||!1,i.autoclose=i.autoclose||!1,this.autoclose=i.autoclose,this.characterNameText&&this.characterNameText.setText(""),this.text&&this.text.setText(""),this.eventCounter=0,this.message=e.split(""),this.timedEvent&&this.timedEvent.remove(),this.characterName=t||!1,this._shiftNameplate(),s=i.append?i.animate?this.text.text:this.text.text+e:i.animate?"":e,this._setText(s),i.animate?(this.animating=!0,this.timedEvent=this.scene.time.addEvent({delay:150-30*this.messageSpeed,callback:this._animateText,callbackScope:this,loop:!0})):(this.animating=!1,this._finish()),this.visible||this.toggleWindow(!0)},t.prototype._animateText=function(){this.eventCounter++,this.text.setText(this.text.text+this.message[this.eventCounter-1]),this.eventCounter===this.message.length&&(this.animating=!1,this.timedEvent.remove(),this._finish())},t.prototype._setText=function(e){this.text&&this.text.destroy();var t=this.margin.left,i=this._getGameHeight()-this.windowHeight+this.margin.top;this.text=this.scene.make.text({x:t,y:i,text:e,style:a(a({},this.textStyle),{wordWrap:{width:this._getGameWidth()-(this.margin.left+this.margin.right)},fixedHeight:this.windowHeight,shadow:{offsetX:2,offsetY:2,color:"#666666",blur:2,fill:!0}})}),this.text.setDepth(1803)},t.prototype._finish=function(){this.autoclose&&this.game.events.emit("autoNext")},t.prototype.skipTextAnimation=function(){this.timedEvent&&this.timedEvent.remove(),this.text.setText(this.message.join("")),this.animating=!1,this._finish()},t.prototype.isInAnimation=function(){return this.animating},t.prototype.isAutoclose=function(){return this.autoclose},t.prototype.update=function(){},t.prototype.shutdown=function(){this.timedEvent&&this.timedEvent.remove(),this.text&&this.text.destroy(),this.characterNameText&&this.characterNameText.destroy(),this.images.shiftedNameplateTexture&&this.images.shiftedNameplateTexture.destroy(),this.images.nameplate&&this.images.nameplate.destroy(),this.images.messageWindow&&this.images.messageWindow.destroy()},t.prototype.destroy=function(){this.shutdown()},t}(n.Plugins.BasePlugin);t.DialogModalPlugin=r},"./src/scenes/_base.ts":function(e,t,i){"use strict";var s,o=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i("./node_modules/phaser/src/phaser.js"),n=i("./src/plugins/dialog.ts"),r=i("./src/scenes/_events.ts"),h=function(e){function t(t){var i=e.call(this,{active:!1,visible:!1,key:t})||this;return i.sounds=[],i.images=[],i.timeEvents=[],i.key=t,i}return o(t,e),t.prototype.preload=function(){this.plugins.install("DialogModalPlugin",n.DialogModalPlugin,!1,"dialogModal",{scene:this})},t.prototype.create=function(){this.dialogModal=this.plugins.get("DialogModalPlugin"),this._initEvents(),this.runSequence(0)},t.prototype._initEvents=function(){var e=this;e.game.events.on("dialogModalClicked",(function(){e.advance()})),e.game.events.on("autoNext",(function(){e.advance()}))},t.prototype.update=function(){},t.prototype.playCharacterVoice=function(e){this.sounds.voice&&(this.sounds.voice.stop(),this.sounds.voice.destroy()),this.sounds.voice=this.sound.add(e),this.sounds.voice.play()},t.prototype.runSequence=function(e){var t=this;t.runEvent(t.eventSequence()[e]).then((function(){e==t.eventSequence().length-1?t.wrapUpScene():t.runSequence(e+1)}))},t.prototype.runEvent=function(e){if("string"==typeof e)return this.runTextDisplay(e);if("object"==typeof e){if(e instanceof Promise)return e;if(e instanceof r.Wait)return this.wait(e.length)}else if("function"==typeof e)return new Promise((function(t,i){e(),t()}))},t.prototype.runTextDisplay=function(e){var t=this;return new Promise((function(i,s){var o=null,a={};if("+"==e.charAt(0)&&(a.append=!0,e=e.substr(1)),"["==e.charAt(0)){var n=e.indexOf("]");o=e.substr(1,n-1),e=e.substr(n+1)}"^"==e.charAt(e.length-1)&&(a.autoclose=!0,e=e.substr(0,e.length-1)),t.dialogModal.setText(e,o,a),t.game.events.on("nextSequence",(function(){i()}))}))},t.prototype.wait=function(e){var t=this;return new Promise((function(i,s){return t.time.addEvent({delay:e,callback:function(){i()}})}))},t.prototype.advance=function(){this.dialogModal.isInAnimation()&&!this.dialogModal.isAutoclose()?this.dialogModal.skipTextAnimation():this.game.events.emit("nextSequence")},t.prototype.eventSequence=function(){return[]},t.prototype._removeDialogModal=function(){this.dialogModal.hide(),this.plugins.removeGlobalPlugin("DialogModalPlugin")},t.prototype.wrapUpScene=function(){for(var e=0,t=this.sounds;e<t.length;e++){var i=t[e];i.stop(),i.destroy()}this._removeDialogModal()},t}(a.Scene);t.BaseScene=h},"./src/scenes/_events.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){this.length=e};t.Wait=s},"./src/scenes/one.ts":function(e,t,i){"use strict";var s,o=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i("./src/scenes/_base.ts"),n=(i("./src/scenes/two.ts"),i("./src/scenes/_events.ts")),r=function(e){function t(){return e.call(this,"SceneOne")||this}return o(t,e),t.prototype.preload=function(){e.prototype.preload.call(this),this.load.image("nijigaku-clubroom","./assets/images/backgrounds/nsicroom_day.png"),this.load.image("shioriko-normal","./assets/images/characters/shioriko_n.png"),this.load.image("shioriko-angry","./assets/images/characters/shioriko_a.png"),this.load.audio("shioriko-voice-1","./assets/audio/voices/coli-1.mp3"),this.load.audio("shioriko-voice-2","./assets/audio/voices/coli-2.mp3"),this.load.audio("shioriko-voice-3","./assets/audio/voices/coli-3.mp3"),this.load.audio("shioriko-voice-4","./assets/audio/voices/coli-4.mp3"),this.load.audio("door","./assets/audio/sfx/door.mp3");var t=this.add.graphics(),i=this.add.graphics();t.fillStyle(2236962,.8),t.fillRect(660,490,600,100),this.load.on("progress",(function(e){i.clear(),i.fillStyle(16777215,1),i.fillRect(670,500,Math.max(600*e-20,0),80)})),this.load.on("complete",(function(){t.destroy(),i.destroy()}))},t.prototype.create=function(){e.prototype.create.call(this)},t.prototype.eventSequence=function(){var e=this;return[function(){e.images.background=e.add.image(960,540,"nijigaku-clubroom"),e.images.background.setAlpha(0),e.images.background.setDepth(1500),e.add.tween({targets:[e.images.background],duration:600,alpha:{from:0,to:1}})},"Waktu itu, entah mengapa tiba-tiba Mifune masuk ke dalam ruangan.",new n.Wait(400),function(){e.sounds.door=e.sound.add("door"),e.sounds.door.play()},new n.Wait(400),function(){e.images.shioriko=e.add.image(960,660,"shioriko-normal"),e.images.shioriko.setAlpha(0),e.images.shioriko.setDepth(1501),e.add.tween({targets:[e.images.shioriko],duration:600,alpha:{from:0,to:1}})},new n.Wait(1e3),"[Shioriko]...","Dia diam menatapku tajam.","[Aku]Mifune... ada apa?",new n.Wait(100),function(){e.images.shioriko.setTexture("shioriko-angry")},"Tiba-tiba wajahnya berubah bengis.",function(){e.playCharacterVoice("shioriko-voice-1")},"[Shioriko]Eh, semuanya.","[Aku]Ah...?",function(){e.add.tween({targets:[e.images.shioriko],duration:600,scale:{from:1,to:1.2}}),e.playCharacterVoice("shioriko-voice-2")},"[Shioriko]Kalau di grup tuh jangan berisik...","[Aku]Mi, Mifune...?",function(){e.add.tween({targets:[e.images.shioriko],duration:600,scale:{from:1.2,to:1.8},y:{from:660,to:800}}),e.playCharacterVoice("shioriko-voice-3")},function(){e.timeEvents.autoskip=e.time.addEvent({delay:5e3,callback:function(){e.game.events.emit("nextSequence")},callbackScope:e})},"[Shioriko]Udah tau gue lagi coli lu malah pada berisik ANJING! KONTOL!",function(){e.timeEvents.autoskip.remove(!1),e.timeEvents.autoskip.destroy()},function(){e.add.tween({targets:[e.images.shioriko],duration:2e3,scale:{from:1.8,to:5},y:{from:800,to:2e3}}),e.playCharacterVoice("shioriko-voice-4")},function(){e.timeEvents.autoskip=e.time.addEvent({delay:2500,callback:function(){e.game.events.emit("nextSequence")},callbackScope:e})},"[Shioriko]Henpon gue jadi ngeleg nih guE LAGI COLI WOEEEIIIII",function(){e.timeEvents.autoskip.remove(!1),e.timeEvents.autoskip.destroy()},function(){for(var t=[],i=0,s=e.images;i<s.length;i++){var o=s[i];t.push(o)}e.add.tween({targets:[e.images.shioriko,e.images.background],duration:1e3,alpha:{from:1,to:0}})},new n.Wait(1500),function(){e.dialogModal.hide()},new n.Wait(5e3)]},t.prototype.wrapUpScene=function(){return this.runSequence(0),!0},t}(a.BaseScene);t.SceneOne=r},"./src/scenes/two.ts":function(e,t,i){"use strict";var s,o=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var a=i("./src/scenes/_base.ts"),n=i("./src/scenes/one.ts"),r=function(e){function t(){return e.call(this,"SceneTwo")||this}return o(t,e),t.prototype.eventSequence=function(){return["Skip."]},t.prototype.wrapUpScene=function(){var t=this;e.prototype.wrapUpScene.call(this),this.time.addEvent({delay:1e3,callback:function(){t.scene.add(null,n.SceneOne,!0),t.scene.remove(t.key)},callbackScope:this})},t}(a.BaseScene);t.SceneTwo=r}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbnMvZGlhbG9nLnRzIiwid2VicGFjazovLy8uL3NyYy9zY2VuZXMvX2Jhc2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjZW5lcy9fZXZlbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy9zY2VuZXMvb25lLnRzIiwid2VicGFjazovLy8uL3NyYy9zY2VuZXMvdHdvLnRzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJnYW1lQ29uZmlnIiwidGl0bGUiLCJ0eXBlIiwiUGhhc2VyIiwiQVVUTyIsInNjYWxlIiwiU2NhbGUiLCJGSVQiLCJhdXRvQ2VudGVyIiwiQ0VOVEVSX0JPVEgiLCJ3aWR0aCIsImhlaWdodCIsInBoeXNpY3MiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZGVidWciLCJwYXJlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzY2VuZSIsIlNjZW5lT25lIiwiZ2FtZSIsIkdhbWUiLCJwbHVnaW5NYW5hZ2VyIiwiaW5pdCIsIm9wdHMiLCJ0aGlzIiwiYm9yZGVyVGhpY2tuZXNzIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJBbHBoYSIsIndpbmRvd0FscGhhIiwid2luZG93Q29sb3IiLCJ3aW5kb3dIZWlnaHQiLCJtYXJnaW4iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJtZXNzYWdlU3BlZWQiLCJzb3VuZCIsImV2ZW50Q291bnRlciIsInZpc2libGUiLCJ0ZXh0IiwibWVzc2FnZSIsImltYWdlcyIsImNoYXJhY3Rlck5hbWUiLCJjaGFyYWN0ZXJOYW1lVGV4dCIsImRyYXduIiwiYXV0b2Nsb3NlIiwidGV4dFN0eWxlIiwiY29sb3IiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJzZXRTY2VuZSIsIl9nZXROYW1lcGxhdGVTaGlmdEFtb3VudCIsIl9wcm9jZXNzUGl4ZWwiLCJpbmRleCIsImRlbHRhaHVlIiwiZyIsImIiLCJoc3YiLCJEaXNwbGF5IiwiQ29sb3IiLCJSR0JUb0hTViIsImgiLCJyZ2IiLCJIU1ZUb1JHQiIsInYiLCJzdGFydCIsIl9jcmVhdGVXaW5kb3ciLCJfZ2V0R2FtZVdpZHRoIiwiTnVtYmVyIiwiY29uZmlnIiwiX2dldEdhbWVIZWlnaHQiLCJfbG9hZFdpbmRvdyIsImxvYWQiLCJpbWFnZSIsImdhbWVIZWlnaHQiLCJnYW1lV2lkdGgiLCJjbGlja2VkIiwiZXZlbnRzIiwiZW1pdCIsIndpbmRvd0JveCIsIm1ha2UiLCJ6b25lIiwieCIsInkiLCJzZXRPcmlnaW4iLCJzZXRJbnRlcmFjdGl2ZSIsIm9uIiwiaW5wdXQiLCJrZXlib2FyZCIsImFkZEtleSIsImhpZGUiLCJ0b2dnbGVXaW5kb3ciLCJzaG93IiwidG8iLCJ1bmRlZmluZWQiLCJ0YXJnZXRzIiwibWFwIiwidGFyZ2V0IiwiYWRkIiwidHdlZW4iLCJkdXJhdGlvbiIsImFscGhhIiwiZnJvbSIsIm9uQ29tcGxldGUiLCJfZHJhdyIsIl9jcmVhdGVXaW5kb3dCZyIsIl9jcmVhdGVOYW1lVGV4dCIsIl9zaGlmdE5hbWVwbGF0ZSIsInNldEFscGhhIiwic2V0RGVwdGgiLCJzdHlsZSIsIndvcmRXcmFwIiwiZml4ZWRIZWlnaHQiLCJzaGFkb3ciLCJvZmZzZXRYIiwib2Zmc2V0WSIsImJsdXIiLCJmaWxsIiwiX3Jlc2V0TmFtZXBsYXRlIiwiZGVzdHJveSIsInRleHR1cmVzIiwiZ2V0U291cmNlSW1hZ2UiLCJjcmVhdGVDYW52YXMiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwicmVmcmVzaCIsInNldFRleHQiLCJjb25zb2xlIiwibG9nIiwicGl4ZWxzIiwiZ2V0SW1hZ2VEYXRhIiwicHV0SW1hZ2VEYXRhIiwidGVtcFRleHQiLCJhbmltYXRlIiwiYXBwZW5kIiwic3BsaXQiLCJ0aW1lZEV2ZW50IiwicmVtb3ZlIiwiX3NldFRleHQiLCJhbmltYXRpbmciLCJ0aW1lIiwiYWRkRXZlbnQiLCJkZWxheSIsImNhbGxiYWNrIiwiX2FuaW1hdGVUZXh0IiwiY2FsbGJhY2tTY29wZSIsImxvb3AiLCJfZmluaXNoIiwic2tpcFRleHRBbmltYXRpb24iLCJqb2luIiwiaXNJbkFuaW1hdGlvbiIsImlzQXV0b2Nsb3NlIiwidXBkYXRlIiwic2h1dGRvd24iLCJQbHVnaW5zIiwiQmFzZVBsdWdpbiIsIkRpYWxvZ01vZGFsUGx1Z2luIiwiYWN0aXZlIiwic291bmRzIiwidGltZUV2ZW50cyIsInByZWxvYWQiLCJwbHVnaW5zIiwiaW5zdGFsbCIsImRpYWxvZ01vZGFsIiwiX2luaXRFdmVudHMiLCJydW5TZXF1ZW5jZSIsInNlbGYiLCJhZHZhbmNlIiwicGxheUNoYXJhY3RlclZvaWNlIiwic3RvcCIsInBsYXkiLCJydW5FdmVudCIsImV2ZW50U2VxdWVuY2UiLCJ0aGVuIiwid3JhcFVwU2NlbmUiLCJldmVudCIsInJ1blRleHREaXNwbGF5IiwiUHJvbWlzZSIsIldhaXQiLCJ3YWl0IiwiZnVsZmlsbCIsInJlamVjdCIsImNoYXJBdCIsInN1YnN0ciIsIm5hbWVFbmQiLCJpbmRleE9mIiwiX3JlbW92ZURpYWxvZ01vZGFsIiwicmVtb3ZlR2xvYmFsUGx1Z2luIiwiU2NlbmUiLCJCYXNlU2NlbmUiLCJhdWRpbyIsInByb2dyZXNzQm94IiwiZ3JhcGhpY3MiLCJwcm9ncmVzc0JhciIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiY2xlYXIiLCJNYXRoIiwibWF4Iiwic2V0VGV4dHVyZSIsIml0ZW0iLCJTY2VuZVR3byJdLCJtYXBwaW5ncyI6IjthQUNFLFNBQVNBLEVBQXFCQyxHQVE3QixJQVBBLElBTUlDLEVBQVVDLEVBTlZDLEVBQVdILEVBQUssR0FDaEJJLEVBQWNKLEVBQUssR0FDbkJLLEVBQWlCTCxFQUFLLEdBSUhNLEVBQUksRUFBR0MsRUFBVyxHQUNwQ0QsRUFBSUgsRUFBU0ssT0FBUUYsSUFDekJKLEVBQVVDLEVBQVNHLEdBQ2hCRyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLQyxFQUFpQlgsSUFBWVcsRUFBZ0JYLElBQ3BGSyxFQUFTTyxLQUFLRCxFQUFnQlgsR0FBUyxJQUV4Q1csRUFBZ0JYLEdBQVcsRUFFNUIsSUFBSUQsS0FBWUcsRUFDWkssT0FBT0MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBYUgsS0FDcERjLEVBQVFkLEdBQVlHLEVBQVlILElBS2xDLElBRkdlLEdBQXFCQSxFQUFvQmhCLEdBRXRDTyxFQUFTQyxRQUNkRCxFQUFTVSxPQUFUVixHQU9ELE9BSEFXLEVBQWdCSixLQUFLSyxNQUFNRCxFQUFpQmIsR0FBa0IsSUFHdkRlLElBRVIsU0FBU0EsSUFFUixJQURBLElBQUlDLEVBQ0lmLEVBQUksRUFBR0EsRUFBSVksRUFBZ0JWLE9BQVFGLElBQUssQ0FH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dEcsSUFBSUMsTUFBTSxDQUNiSixRQUFTLENBQUMsRUFBS3RELE9BQWlCLFNBQUcsRUFBS0EsT0FBbUIsWUFDM0QyRCxTQUFVLElBQ1ZDLE1BQU8sQ0FBRUMsS0FBTSxFQUFHVCxHQUFJLE1BRzFCLElBQUksRUFBQXFGLEtBQUssTUFDVCxXQUFRLEVBQUtmLFlBQVl6RSxRQUN6QixJQUFJLEVBQUF3RixLQUFLLE9BR1gsWUFBQUosWUFBQSxXQUVFLE9BREF0SixLQUFLNkksWUFBWSxJQUNWLEdBYVgsRUFqS0EsQ0FBOEIsRUFBQXdCLFdBQWpCLEVBQUEzSyxZLG9iQ0piLGlDQUNBLDJCQUdBLGNBQ0UsYSxPQUNFLFlBQU0sYUFBVyxLQW1CckIsT0FyQjhCLE9BSzVCLFlBQUEwSixjQUFBLFdBQW1CLE1BQU8sQ0FDeEIsVUFHRixZQUFBRSxZQUFBLHNCQUNFLFlBQU1BLFlBQVcsV0FFakJ0SixLQUFLb0gsS0FBS0MsU0FBUyxDQUNqQkMsTUFBTyxJQUNQQyxTQUFVLFdBQ1IsRUFBSzlILE1BQU1pRixJQUFJLEtBQU0sRUFBQWhGLFVBQVUsR0FDL0IsRUFBS0QsTUFBTXdILE9BQU8sRUFBS3BKLE1BRXpCNEosY0FBZXpILFFBR3JCLEVBckJBLENBQThCLEVBQUFxSyxXQUFqQixFQUFBWSIsImZpbGUiOiJhcHAuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHRcImFwcFwiOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFtcIi4vc3JjL21haW4udHNcIixcInZlbmRvcnNcIl0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCJpbXBvcnQgKiBhcyBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgRGlhbG9nTW9kYWxQbHVnaW4gfSBmcm9tICcuL3BsdWdpbnMvZGlhbG9nJztcclxuaW1wb3J0IHsgU2NlbmVPbmUgfSBmcm9tICcuL3NjZW5lcy9vbmUnO1xyXG5pbXBvcnQgeyBTY2VuZVR3byB9IGZyb20gJy4vc2NlbmVzL3R3byc7XHJcblxyXG5jb25zdCBnYW1lQ29uZmlnOiBQaGFzZXIuVHlwZXMuQ29yZS5HYW1lQ29uZmlnID0ge1xyXG4gIHRpdGxlOiAnU2FtcGxlJyxcclxuXHJcbiAgdHlwZTogUGhhc2VyLkFVVE8sXHJcblxyXG4gIHNjYWxlOiB7XHJcbiAgICBtb2RlOiBQaGFzZXIuU2NhbGUuRklULFxyXG4gICAgYXV0b0NlbnRlcjogUGhhc2VyLlNjYWxlLkNFTlRFUl9CT1RILFxyXG4gICAgd2lkdGg6IDE5MjAsXHJcbiAgICBoZWlnaHQ6IDEwODAsXHJcbiAgfSxcclxuXHJcbiAgcGh5c2ljczoge1xyXG4gICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICBhcmNhZGU6IHtcclxuICAgICAgZGVidWc6IHRydWUsXHJcbiAgICB9LFxyXG4gIH0sXHJcblxyXG4gIHBhcmVudDogJ2dhbWUnLFxyXG4gIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnLFxyXG5cclxuICBzY2VuZTogU2NlbmVPbmVcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGdhbWVDb25maWcpO1xyXG4iLCJpbXBvcnQgKiBhcyBQaGFzZXIgZnJvbSAncGhhc2VyJztcblxuZXhwb3J0IGNsYXNzIERpYWxvZ01vZGFsUGx1Z2luIGV4dGVuZHMgUGhhc2VyLlBsdWdpbnMuQmFzZVBsdWdpbiB7XG4gIHByaXZhdGUgc2NlbmU7XG4gIHByaXZhdGUgYm9yZGVyVGhpY2tuZXNzO1xuICBwcml2YXRlIGJvcmRlckNvbG9yO1xuICBwcml2YXRlIGJvcmRlckFscGhhO1xuICBwcml2YXRlIHdpbmRvd0FscGhhO1xuICBwcml2YXRlIHdpbmRvd0NvbG9yO1xuICBwcml2YXRlIHdpbmRvd0hlaWdodDtcbiAgcHJpdmF0ZSBtYXJnaW47XG4gIHByaXZhdGUgbWVzc2FnZVNwZWVkO1xuICBwcml2YXRlIGV2ZW50Q291bnRlcjtcbiAgcHJpdmF0ZSB2aXNpYmxlO1xuICBwcml2YXRlIHRleHQ7XG4gIHByaXZhdGUgY2hhcmFjdGVyTmFtZTtcbiAgcHJpdmF0ZSBjaGFyYWN0ZXJOYW1lVGV4dDtcbiAgcHJpdmF0ZSB0aW1lZEV2ZW50O1xuICBwcml2YXRlIG1lc3NhZ2U7XG4gIHByaXZhdGUgaW1hZ2VzO1xuICBwcml2YXRlIGFuaW1hdGluZztcbiAgcHJpdmF0ZSBzb3VuZDtcbiAgcHJpdmF0ZSB0ZXh0U3R5bGU7XG4gIHByaXZhdGUgZHJhd247XG4gIHByaXZhdGUgYXV0b2Nsb3NlO1xuXG4gIGNvbnN0cnVjdG9yIChwbHVnaW5NYW5hZ2VyKSB7XG4gICAgc3VwZXIocGx1Z2luTWFuYWdlcik7XG4gIH1cblxuICBpbml0IChvcHRzPykge1xuICAgIC8vIENoZWNrIHRvIHNlZSBpZiBhbnkgb3B0aW9uYWwgcGFyYW1ldGVycyB3ZXJlIHBhc3NlZFxuICAgIGlmICghb3B0cykgb3B0cyA9IHt9O1xuICAgIC8vIHNldCBwcm9wZXJ0aWVzIGZyb20gb3B0cyBvYmplY3Qgb3IgdXNlIGRlZmF1bHRzXG4gICAgdGhpcy5ib3JkZXJUaGlja25lc3MgPSBvcHRzLmJvcmRlclRoaWNrbmVzcyB8fCAzO1xuICAgIHRoaXMuYm9yZGVyQ29sb3IgPSBvcHRzLmJvcmRlckNvbG9yIHx8IDB4OTA3NzQ4O1xuICAgIHRoaXMuYm9yZGVyQWxwaGEgPSBvcHRzLmJvcmRlckFscGhhIHx8IDE7XG4gICAgdGhpcy53aW5kb3dBbHBoYSA9IG9wdHMud2luZG93QWxwaGEgfHwgMC45O1xuICAgIHRoaXMud2luZG93Q29sb3IgPSBvcHRzLndpbmRvd0NvbG9yIHx8IDB4ZmZmZmZmO1xuICAgIHRoaXMud2luZG93SGVpZ2h0ID0gb3B0cy53aW5kb3dIZWlnaHQgfHwgMzAwO1xuICAgIHRoaXMubWFyZ2luID0gb3B0cy5tYXJnaW4gfHwgeyB0b3A6IDcwLCBsZWZ0OiAzNTAsIHJpZ2h0OiAzNTAgfTtcbiAgICB0aGlzLm1lc3NhZ2VTcGVlZCA9IG9wdHMubWVzc2FnZVNwZWVkIHx8IDEwO1xuICAgIHRoaXMuc291bmQgPSBvcHRzLnNvdW5kIHx8IG51bGw7XG5cbiAgICAvLyB1c2VkIGZvciBhbmltYXRpbmcgdGhlIHRleHRcbiAgICB0aGlzLmV2ZW50Q291bnRlciA9IDA7XG4gICAgLy8gaWYgdGhlIGRpYWxvZyB3aW5kb3cgaXMgc2hvd25cbiAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAvLyB0aGUgY3VycmVudCB0ZXh0IGluIHRoZSB3aW5kb3dcbiAgICB0aGlzLnRleHQ7XG4gICAgLy8gdGhlIHRleHQgdGhhdCB3aWxsIGJlIGRpc3BsYXllZCBpbiB0aGUgd2luZG93XG4gICAgdGhpcy5tZXNzYWdlO1xuICAgIC8vIHRoZSBpbWFnZXMgdGhhdCBhcmUgdXNlZCB0byBkaXNwbGF5IHRoZSB0ZXh0Ym94XG4gICAgdGhpcy5pbWFnZXMgPSBbXTtcbiAgICAvLyBzaG93IG5hbWVwbGF0ZVxuICAgIHRoaXMuY2hhcmFjdGVyTmFtZSA9IG51bGw7XG4gICAgdGhpcy5jaGFyYWN0ZXJOYW1lVGV4dDtcbiAgICAvLyB3aGV0aGVyIGltYWdlcyBoYXZlIGJlZW4gZHJhd24gKGluaXQpXG4gICAgdGhpcy5kcmF3biA9IGZhbHNlO1xuICAgIC8vIHdoZXRoZXIgdGhlIG1lc3NhZ2UgaW1tZWRpYXRlbHkgY2xvc2VzIGFmdGVyIHRleHQgYW5pbWF0aW9uIGVuZHNcbiAgICB0aGlzLmF1dG9jbG9zZSA9IGZhbHNlO1xuXG4gICAgLy8gdGV4dCBzdHlsZVxuICAgIHRoaXMudGV4dFN0eWxlID0ge1xuICAgICAgY29sb3I6ICcjMmIyYjJiJyxcbiAgICAgIGZvbnRGYW1pbHk6IFwiTXVrdGFcIixcbiAgICAgIGZvbnRTaXplOiA0MlxuICAgIH07XG5cbiAgICBpZiAob3B0cy5zY2VuZSkge1xuICAgICAgdGhpcy5zY2VuZSA9IG9wdHMuc2NlbmU7XG4gICAgfVxuICB9XG5cbiAgc2V0U2NlbmUgKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gIH1cblxuICBfZ2V0TmFtZXBsYXRlU2hpZnRBbW91bnQgKG5hbWUpOiBudW1iZXJcbiAge1xuICAgIGlmIChuYW1lID09PSBcIlNoaW9yaWtvXCIpIHtcbiAgICAgIHJldHVybiAwLjY7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgX3Byb2Nlc3NQaXhlbCAoZGF0YSwgaW5kZXgsIGRlbHRhaHVlKVxuICB7XG4gICAgICB2YXIgciA9IGRhdGFbaW5kZXhdO1xuICAgICAgdmFyIGcgPSBkYXRhW2luZGV4ICsgMV07XG4gICAgICB2YXIgYiA9IGRhdGFbaW5kZXggKyAyXTtcblxuICAgICAgdmFyIGhzdiA9IFBoYXNlci5EaXNwbGF5LkNvbG9yLlJHQlRvSFNWKHIsIGcsIGIpO1xuXG4gICAgICB2YXIgaCA9IGhzdi5oICsgZGVsdGFodWU7XG5cbiAgICAgIHZhciByZ2I6IGFueSA9IFBoYXNlci5EaXNwbGF5LkNvbG9yLkhTVlRvUkdCKGgsIGhzdi5zLCBoc3Yudik7XG5cbiAgICAgIGRhdGFbaW5kZXhdID0gcmdiLnI7XG4gICAgICBkYXRhW2luZGV4ICsgMV0gPSByZ2IuZztcbiAgICAgIGRhdGFbaW5kZXggKyAyXSA9IHJnYi5iO1xuICB9XG5cbiAgc3RhcnQgKCkge1xuICAgIC8vIENyZWF0ZSB0aGUgZGlhbG9nIHdpbmRvd1xuICAgIHRoaXMuX2NyZWF0ZVdpbmRvdygpO1xuICB9XG5cbiAgLy8gR2V0cyB0aGUgd2lkdGggb2YgdGhlIGdhbWUgKGJhc2VkIG9uIHRoZSBzY2VuZSlcbiAgX2dldEdhbWVXaWR0aCAoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTnVtYmVyKHRoaXMuZ2FtZS5jb25maWcud2lkdGgpO1xuICB9XG5cbiAgLy8gR2V0cyB0aGUgaGVpZ2h0IG9mIHRoZSBnYW1lIChiYXNlZCBvbiB0aGUgc2NlbmUpXG4gIF9nZXRHYW1lSGVpZ2h0ICgpOiBudW1iZXIge1xuICAgIHJldHVybiBOdW1iZXIodGhpcy5nYW1lLmNvbmZpZy5oZWlnaHQpO1xuICB9XG5cbiAgLy8gTG9kYXMgdGhlIHdpbmRvdyBpbWFnZXNcbiAgX2xvYWRXaW5kb3cgKCkge1xuICAgIHRoaXMuc2NlbmUubG9hZC5pbWFnZSgnbWVzc2FnZVdpbmRvd0JhY2snLCAnLi9hc3NldHMvaW1hZ2VzL3N5c3RlbS90ZXh0Ym94LnBuZycpO1xuICAgIHRoaXMuc2NlbmUubG9hZC5pbWFnZSgnbmFtZXBsYXRlQmFjaycsICcuL2Fzc2V0cy9pbWFnZXMvc3lzdGVtL25hbWVwbGF0ZS5wbmcnKTtcbiAgfVxuXG4gIC8vIENyZWF0ZXMgdGhlIGRpYWxvZyB3aW5kb3dcbiAgX2NyZWF0ZVdpbmRvdyAoKSB7XG4gICAgdGhpcy5fbG9hZFdpbmRvdygpO1xuXG4gICAgdmFyIGdhbWVIZWlnaHQgPSB0aGlzLl9nZXRHYW1lSGVpZ2h0KCk7XG4gICAgdmFyIGdhbWVXaWR0aCA9IHRoaXMuX2dldEdhbWVXaWR0aCgpO1xuXG4gICAgdmFyIGNsaWNrZWQgPSAoKSA9PiB7XG4gICAgICB0aGlzLmdhbWUuZXZlbnRzLmVtaXQoJ2RpYWxvZ01vZGFsQ2xpY2tlZCcpOyAvLyBFbWl0IGV2ZW50IGdsb2JhbGx5IGJlY2F1c2UgSSBkb24ndCBrbm93IGhvdyB0byBkbyBpdCBiZXR0ZXJcbiAgICB9O1xuXG4gICAgdmFyIHdpbmRvd0JveCA9IHRoaXMuc2NlbmUubWFrZS56b25lKHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiA4MjAsXG4gICAgICB3aWR0aDogZ2FtZVdpZHRoLFxuICAgICAgaGVpZ2h0OiBnYW1lSGVpZ2h0XG4gICAgfSk7XG4gICAgd2luZG93Qm94LnNldE9yaWdpbigwLCAwKTtcbiAgICB3aW5kb3dCb3guc2V0SW50ZXJhY3RpdmUoKTtcbiAgICB3aW5kb3dCb3gub24oJ3BvaW50ZXJkb3duJywgY2xpY2tlZCk7XG5cbiAgICB2YXIga2V5T2JqID0gdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoJ0VOVEVSJyk7XG4gICAga2V5T2JqLm9uKCd1cCcsIGNsaWNrZWQpO1xuICB9XG5cbiAgaGlkZSAoKSB7XG4gICAgaWYgKHRoaXMudmlzaWJsZSkgdGhpcy50b2dnbGVXaW5kb3coKTtcbiAgfVxuXG4gIHNob3cgKCkge1xuICAgIGlmICghdGhpcy52aXNpYmxlKSB0aGlzLnRvZ2dsZVdpbmRvdygpO1xuICB9XG5cbiAgLy8gSGlkZS9TaG93IHRoZSBkaWFsb2cgd2luZG93XG4gIHRvZ2dsZVdpbmRvdyAodG8/OiBib29sZWFuKSB7XG4gICAgaWYgKHRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudmlzaWJsZSA9ICF0aGlzLnZpc2libGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudmlzaWJsZSA9IHRvO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXRzID0gW11cbiAgICBpZiAodGhpcy50ZXh0KSB0YXJnZXRzLnB1c2godGhpcy50ZXh0KTtcbiAgICB0YXJnZXRzLnB1c2godGhpcy5pbWFnZXNbJ21lc3NhZ2VXaW5kb3cnXSk7XG4gICAgdGFyZ2V0cy5wdXNoKHRoaXMuY2hhcmFjdGVyTmFtZVRleHQpO1xuICAgIGlmICh0aGlzLmNoYXJhY3Rlck5hbWUpIHtcbiAgICAgIHRhcmdldHMucHVzaCh0aGlzLmltYWdlc1snbmFtZXBsYXRlJ10pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgIHRhcmdldHMubWFwKHRhcmdldCA9PiB7IHRhcmdldC52aXNpYmxlID0gMSB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnNjZW5lLmFkZC50d2Vlbih7XG4gICAgICB0YXJnZXRzLFxuICAgICAgZHVyYXRpb246IDYwMCxcbiAgICAgIGFscGhhOiAodGhpcy52aXNpYmxlKSA/IHsgZnJvbTogMCwgdG86IDEgfSA6IHsgZnJvbTogMSwgdG86IDAgfSxcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUpIHRhcmdldHMubWFwKHRhcmdldCA9PiB7IHRhcmdldC52aXNpYmxlID0gMCB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9kcmF3ICgpIHtcbiAgICAvLyBJbml0aWFsaXplIGltYWdlc1xuICAgIHRoaXMuX2NyZWF0ZVdpbmRvd0JnKCk7XG4gICAgdGhpcy5fY3JlYXRlTmFtZVRleHQoKTtcbiAgICB0aGlzLl9zaGlmdE5hbWVwbGF0ZSgpO1xuICB9XG5cbiAgX2NyZWF0ZVdpbmRvd0JnICgpIHtcbiAgICBpZiAoIXRoaXMuaW1hZ2VzWydtZXNzYWdlV2luZG93J10pIHtcbiAgICAgIC8vIEJhY2tncm91bmRcbiAgICAgIHRoaXMuaW1hZ2VzWydtZXNzYWdlV2luZG93J10gPSB0aGlzLnNjZW5lLmFkZC5pbWFnZSgwLCAwLCAnbWVzc2FnZVdpbmRvd0JhY2snKTtcbiAgICAgIHRoaXMuaW1hZ2VzWydtZXNzYWdlV2luZG93J10uc2V0T3JpZ2luKDAsIDApO1xuICAgICAgdGhpcy5pbWFnZXNbJ21lc3NhZ2VXaW5kb3cnXS5zZXRBbHBoYSgwKTtcbiAgICAgIHRoaXMuaW1hZ2VzWydtZXNzYWdlV2luZG93J10uc2V0RGVwdGgoMTgwMCk7XG4gICAgfVxuICB9XG5cbiAgX2NyZWF0ZU5hbWVUZXh0ICgpIHtcbiAgICAvLyBJbml0aWFsaXplIGNoYXJhY3RlciBuYW1lIHRleHRcbiAgICBpZiAoIXRoaXMuY2hhcmFjdGVyTmFtZVRleHQpIHtcbiAgICAgIHZhciBzdHlsZSA9IHsuLi50aGlzLnRleHRTdHlsZSwgLi4ue1xuICAgICAgICB3b3JkV3JhcDogeyB3aWR0aDogNjAwIH0sXG4gICAgICAgIGZpeGVkSGVpZ2h0OiA1NixcbiAgICAgICAgc2hhZG93OiB7IG9mZnNldFg6IDIsIG9mZnNldFk6IDIsIGNvbG9yOiAnIzY2NjY2NicsIGJsdXI6IDIsIGZpbGw6IHRydWUgfVxuICAgICAgfX07XG4gICAgICB0aGlzLmNoYXJhY3Rlck5hbWVUZXh0ID0gdGhpcy5zY2VuZS5tYWtlLnRleHQoeyB4OiAyOTAsIHk6IDc3OCxcbiAgICAgICAgdGV4dDogdGhpcy5jaGFyYWN0ZXJOYW1lIHx8IFwiXCIsXG4gICAgICAgIHN0eWxlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuY2hhcmFjdGVyTmFtZVRleHQuc2V0RGVwdGgoMTgwMik7XG4gICAgfVxuICB9XG5cbiAgX3Jlc2V0TmFtZXBsYXRlICgpIHtcbiAgICAvLyBJZiBoYXZlIGJlZW4gaW5pdGlhbGl6ZWQsIGRlc3Ryb3lcbiAgICBpZiAodGhpcy5pbWFnZXNbJ25hbWVwbGF0ZSddKSB7XG4gICAgICB0aGlzLmltYWdlc1snbmFtZXBsYXRlVGV4dHVyZSddID0gbnVsbDtcbiAgICAgIHRoaXMuaW1hZ2VzWydzaGlmdGVkTmFtZXBsYXRlVGV4dHVyZSddLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuaW1hZ2VzWydzaGlmdGVkTmFtZXBsYXRlQ29udGV4dCddID0gbnVsbDtcbiAgICAgIHRoaXMuaW1hZ2VzWyduYW1lcGxhdGUnXS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuaW1hZ2VzWyduYW1lcGxhdGVUZXh0dXJlJ10gPSB0aGlzLnNjZW5lLnRleHR1cmVzLmdldCgnbmFtZXBsYXRlQmFjaycpLmdldFNvdXJjZUltYWdlKCk7XG4gICAgdGhpcy5pbWFnZXNbJ3NoaWZ0ZWROYW1lcGxhdGVUZXh0dXJlJ10gPSB0aGlzLnNjZW5lLnRleHR1cmVzLmNyZWF0ZUNhbnZhcygnc2hpZnRlZFRleHROYW1lcGxhdGVCZycsIHRoaXMuaW1hZ2VzWyduYW1lcGxhdGVUZXh0dXJlJ10ud2lkdGgsIHRoaXMuaW1hZ2VzWyduYW1lcGxhdGVUZXh0dXJlJ10uaGVpZ2h0KTtcbiAgICB0aGlzLmltYWdlc1snc2hpZnRlZE5hbWVwbGF0ZUNvbnRleHQnXSA9IHRoaXMuaW1hZ2VzWydzaGlmdGVkTmFtZXBsYXRlVGV4dHVyZSddLmdldFNvdXJjZUltYWdlKCkuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB0aGlzLmltYWdlc1snc2hpZnRlZE5hbWVwbGF0ZUNvbnRleHQnXS5kcmF3SW1hZ2UodGhpcy5pbWFnZXNbJ25hbWVwbGF0ZVRleHR1cmUnXSwgMCwgMCk7XG4gICAgdGhpcy5pbWFnZXNbJ25hbWVwbGF0ZSddID0gdGhpcy5zY2VuZS5hZGQuaW1hZ2UoMTk3LCA3NzAsICdzaGlmdGVkVGV4dE5hbWVwbGF0ZUJnJyk7XG4gICAgdGhpcy5pbWFnZXNbJ25hbWVwbGF0ZSddLnNldE9yaWdpbigwLCAwKTtcbiAgICB0aGlzLmltYWdlc1snbmFtZXBsYXRlJ10uc2V0QWxwaGEoMCk7XG4gICAgdGhpcy5pbWFnZXNbJ25hbWVwbGF0ZSddLnNldERlcHRoKDE4MDEpO1xuICAgIHRoaXMuaW1hZ2VzWydzaGlmdGVkTmFtZXBsYXRlVGV4dHVyZSddLnJlZnJlc2goKTtcbiAgfVxuXG4gIF9zaGlmdE5hbWVwbGF0ZSAoKSB7XG4gICAgdGhpcy5fcmVzZXROYW1lcGxhdGUoKTtcblxuICAgIGlmICh0aGlzLmNoYXJhY3Rlck5hbWUpIHtcbiAgICAgIHRoaXMuY2hhcmFjdGVyTmFtZVRleHQuc2V0VGV4dCh0aGlzLmNoYXJhY3Rlck5hbWUpO1xuICAgICAgdGhpcy5jaGFyYWN0ZXJOYW1lVGV4dC5zZXRBbHBoYSgxKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiWWVhaCEgTWF4aW11bSBhbHBoYSFcIik7XG4gICAgICB0aGlzLmltYWdlc1snbmFtZXBsYXRlJ10uc2V0QWxwaGEoMSk7XG5cbiAgICAgIHZhciBwaXhlbHMgPSB0aGlzLmltYWdlc1snc2hpZnRlZE5hbWVwbGF0ZUNvbnRleHQnXS5nZXRJbWFnZURhdGEoMCwgMCwgdGhpcy5pbWFnZXNbJ25hbWVwbGF0ZVRleHR1cmUnXS53aWR0aCwgdGhpcy5pbWFnZXNbJ25hbWVwbGF0ZVRleHR1cmUnXS5oZWlnaHQpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaXhlbHMuZGF0YS5sZW5ndGggLyA0OyBpKyspXG4gICAgICB7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NQaXhlbChwaXhlbHMuZGF0YSwgaSAqIDQsIHRoaXMuX2dldE5hbWVwbGF0ZVNoaWZ0QW1vdW50KHRoaXMuY2hhcmFjdGVyTmFtZSkpO1xuICAgICAgfVxuICAgICAgdGhpcy5pbWFnZXNbJ3NoaWZ0ZWROYW1lcGxhdGVDb250ZXh0J10ucHV0SW1hZ2VEYXRhKHBpeGVscywgMCwgMCk7XG4gICAgICB0aGlzLmltYWdlc1snc2hpZnRlZE5hbWVwbGF0ZVRleHR1cmUnXS5yZWZyZXNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiVGltZSB0byBkaWUhXCIpO1xuICAgICAgdGhpcy5jaGFyYWN0ZXJOYW1lVGV4dC5zZXRBbHBoYSgwKTtcbiAgICAgIHRoaXMuaW1hZ2VzWyduYW1lcGxhdGUnXS5zZXRBbHBoYSgwKTtcbiAgICB9XG4gIH1cblxuICAvLyBTZXRzIHRoZSB0ZXh0IGZvciB0aGUgZGlhbG9nIHdpbmRvd1xuICBzZXRUZXh0ICh0ZXh0LCBuYW1lPywgb3B0cz8pIHtcbiAgICBpZiAoIXRoaXMuZHJhd24pIHtcbiAgICAgIHRoaXMuZHJhd24gPSB0cnVlO1xuICAgICAgdGhpcy5fZHJhdygpO1xuICAgIH1cblxuICAgIC8vIFNldCBkZWZhdWx0IG9wdGlvbnNcbiAgICBpZiAoIW9wdHMpIG9wdHMgPSB7fTtcbiAgICBvcHRzLmFuaW1hdGUgPSBvcHRzLmFuaW1hdGUgfHwgdHJ1ZTtcbiAgICBvcHRzLmFwcGVuZCA9IG9wdHMuYXBwZW5kIHx8IGZhbHNlO1xuICAgIG9wdHMuYXV0b2Nsb3NlID0gb3B0cy5hdXRvY2xvc2UgfHwgZmFsc2U7XG5cbiAgICAvLyBBdXRvY2xvc2Ugc2V0dGluZ1xuICAgIHRoaXMuYXV0b2Nsb3NlID0gb3B0cy5hdXRvY2xvc2U7XG5cbiAgICAvLyBSZXNldCB0aGUgZGlhbG9nIHRleHRcbiAgICBpZiAodGhpcy5jaGFyYWN0ZXJOYW1lVGV4dCkgdGhpcy5jaGFyYWN0ZXJOYW1lVGV4dC5zZXRUZXh0KCcnKTtcbiAgICBpZiAodGhpcy50ZXh0KSB0aGlzLnRleHQuc2V0VGV4dCgnJyk7XG4gICAgdGhpcy5ldmVudENvdW50ZXIgPSAwO1xuICAgIHRoaXMubWVzc2FnZSA9IHRleHQuc3BsaXQoJycpO1xuICAgIGlmICh0aGlzLnRpbWVkRXZlbnQpIHRoaXMudGltZWRFdmVudC5yZW1vdmUoKTtcblxuICAgIC8vIERpc3BsYXkgbmFtZXBsYXRlIGlmIHJlcXVlc3RlZFxuICAgIHRoaXMuY2hhcmFjdGVyTmFtZSA9IG5hbWUgfHwgZmFsc2U7XG4gICAgLy8gQ2hhbmdlIG5hbWVwbGF0ZSBjb2xvclxuICAgIHRoaXMuX3NoaWZ0TmFtZXBsYXRlKCk7XG5cbiAgICAvLyBQcm9jZXNzIHRleHRcbiAgICB2YXIgdGVtcFRleHQ6IHN0cmluZztcbiAgICBpZiAob3B0cy5hcHBlbmQpIHtcbiAgICAgIHRlbXBUZXh0ID0gb3B0cy5hbmltYXRlID8gdGhpcy50ZXh0LnRleHQgOiB0aGlzLnRleHQudGV4dCArIHRleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRlbXBUZXh0ID0gb3B0cy5hbmltYXRlID8gJycgOiB0ZXh0O1xuICAgIH1cbiAgICB0aGlzLl9zZXRUZXh0KHRlbXBUZXh0KTtcblxuICAgIGlmIChvcHRzLmFuaW1hdGUpIHtcbiAgICAgIHRoaXMuYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMudGltZWRFdmVudCA9IHRoaXMuc2NlbmUudGltZS5hZGRFdmVudCh7XG4gICAgICAgIGRlbGF5OiAxNTAgLSAodGhpcy5tZXNzYWdlU3BlZWQgKiAzMCksXG4gICAgICAgIGNhbGxiYWNrOiB0aGlzLl9hbmltYXRlVGV4dCxcbiAgICAgICAgY2FsbGJhY2tTY29wZTogdGhpcyxcbiAgICAgICAgbG9vcDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHsgdGhpcy5hbmltYXRpbmcgPSBmYWxzZTsgdGhpcy5fZmluaXNoKCk7IH1cblxuICAgIC8vIElmIG5vdCB2aXNpYmxlIHlldCwgZm9yY2UgdmlzaWJpbGl0eVxuICAgIGlmICghdGhpcy52aXNpYmxlKSB0aGlzLnRvZ2dsZVdpbmRvdyh0cnVlKTtcbiAgfVxuXG4gIC8vIFNsb3dseSBkaXNwbGF5cyB0aGUgdGV4dCBpbiB0aGUgd2luZG93IHRvIG1ha2UgaXQgYXBwZWFyIGFubmltYXRlZFxuICBfYW5pbWF0ZVRleHQgKCkge1xuICAgIHRoaXMuZXZlbnRDb3VudGVyKys7XG4gICAgdGhpcy50ZXh0LnNldFRleHQodGhpcy50ZXh0LnRleHQgKyB0aGlzLm1lc3NhZ2VbdGhpcy5ldmVudENvdW50ZXIgLSAxXSk7XG4gICAgaWYgKHRoaXMuZXZlbnRDb3VudGVyID09PSB0aGlzLm1lc3NhZ2UubGVuZ3RoKSB7XG4gICAgICAvLyBGaW5pc2hlZCBhbmltYXRpbmdcbiAgICAgIHRoaXMuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnRpbWVkRXZlbnQucmVtb3ZlKCk7XG4gICAgICB0aGlzLl9maW5pc2goKTtcbiAgICB9XG4gIH1cblxuICAvLyBDYWxjdWF0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIHRleHQgaW4gdGhlIGRpYWxvZyB3aW5kb3dcbiAgX3NldFRleHQgKHRleHQpIHtcbiAgICAvLyBSZXNldCB0aGUgZGlhbG9nXG4gICAgaWYgKHRoaXMudGV4dCkgdGhpcy50ZXh0LmRlc3Ryb3koKTtcblxuICAgIHZhciB4ID0gdGhpcy5tYXJnaW4ubGVmdDtcbiAgICB2YXIgeSA9IHRoaXMuX2dldEdhbWVIZWlnaHQoKSAtIHRoaXMud2luZG93SGVpZ2h0ICsgdGhpcy5tYXJnaW4udG9wO1xuXG4gICAgdGhpcy50ZXh0ID0gdGhpcy5zY2VuZS5tYWtlLnRleHQoe1xuICAgICAgeCxcbiAgICAgIHksXG4gICAgICB0ZXh0LFxuICAgICAgc3R5bGU6IHsuLi50aGlzLnRleHRTdHlsZSwgLi4ue1xuICAgICAgICB3b3JkV3JhcDogeyB3aWR0aDogdGhpcy5fZ2V0R2FtZVdpZHRoKCkgLSAodGhpcy5tYXJnaW4ubGVmdCArIHRoaXMubWFyZ2luLnJpZ2h0KSB9LFxuICAgICAgICBmaXhlZEhlaWdodDogdGhpcy53aW5kb3dIZWlnaHQsXG4gICAgICAgIHNoYWRvdzogeyBvZmZzZXRYOiAyLCBvZmZzZXRZOiAyLCBjb2xvcjogJyM2NjY2NjYnLCBibHVyOiAyLCBmaWxsOiB0cnVlIH1cbiAgICAgIH19XG4gICAgfSk7XG4gICAgdGhpcy50ZXh0LnNldERlcHRoKDE4MDMpO1xuICB9XG5cbiAgLy8gRmluaXNoIHVwIGRpc3BsYXlpbmcgdGV4dFxuICBfZmluaXNoICgpIHtcbiAgICBpZiAodGhpcy5hdXRvY2xvc2UpIHtcbiAgICAgIHRoaXMuZ2FtZS5ldmVudHMuZW1pdCgnYXV0b05leHQnKTtcbiAgICB9XG4gIH1cblxuICBza2lwVGV4dEFuaW1hdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudGltZWRFdmVudCkgdGhpcy50aW1lZEV2ZW50LnJlbW92ZSgpO1xuICAgIHRoaXMudGV4dC5zZXRUZXh0KHRoaXMubWVzc2FnZS5qb2luKCcnKSk7XG4gICAgdGhpcy5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9maW5pc2goKTtcbiAgfVxuXG4gIGlzSW5BbmltYXRpb24gKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmFuaW1hdGluZztcbiAgfVxuXG4gIGlzQXV0b2Nsb3NlICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5hdXRvY2xvc2U7XG4gIH1cblxuICB1cGRhdGUgKCkge31cblxuICAvLyAgQ2FsbGVkIHdoZW4gYSBTY2VuZSBzaHV0cyBkb3duLCBpdCBtYXkgdGhlbiBjb21lIGJhY2sgYWdhaW4gbGF0ZXJcbiAgLy8gKHdoaWNoIHdpbGwgaW52b2tlIHRoZSAnc3RhcnQnIGV2ZW50KSBidXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZG9ybWFudC5cbiAgc2h1dGRvd24gKCkge1xuICAgIGlmICh0aGlzLnRpbWVkRXZlbnQpIHRoaXMudGltZWRFdmVudC5yZW1vdmUoKTtcbiAgICBpZiAodGhpcy50ZXh0KSB0aGlzLnRleHQuZGVzdHJveSgpO1xuICAgIGlmICh0aGlzLmNoYXJhY3Rlck5hbWVUZXh0KSB0aGlzLmNoYXJhY3Rlck5hbWVUZXh0LmRlc3Ryb3koKTtcbiAgICBpZiAodGhpcy5pbWFnZXNbJ3NoaWZ0ZWROYW1lcGxhdGVUZXh0dXJlJ10pIHRoaXMuaW1hZ2VzWydzaGlmdGVkTmFtZXBsYXRlVGV4dHVyZSddLmRlc3Ryb3koKTtcbiAgICBpZiAodGhpcy5pbWFnZXNbJ25hbWVwbGF0ZSddKSB0aGlzLmltYWdlc1snbmFtZXBsYXRlJ10uZGVzdHJveSgpO1xuICAgIGlmICh0aGlzLmltYWdlc1snbWVzc2FnZVdpbmRvdyddKSB0aGlzLmltYWdlc1snbWVzc2FnZVdpbmRvdyddLmRlc3Ryb3koKTtcbiAgfVxuXG4gIGRlc3Ryb3kgKCkge1xuICAgIHRoaXMuc2h1dGRvd24oKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgUGhhc2VyIGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBEaWFsb2dNb2RhbFBsdWdpbiB9IGZyb20gJy4uL3BsdWdpbnMvZGlhbG9nJztcbmltcG9ydCB7IFdhaXQgfSBmcm9tICcuL19ldmVudHMnO1xuXG5leHBvcnQgY2xhc3MgQmFzZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgcHJvdGVjdGVkIGtleTogc3RyaW5nO1xuICBwcm90ZWN0ZWQgZGlhbG9nTW9kYWw6IERpYWxvZ01vZGFsUGx1Z2luO1xuXG4gIC8vIFVzZWQgdG8gc3RvcmUgc3R1ZmZcbiAgcHJvdGVjdGVkIHNvdW5kczogQXJyYXk8UGhhc2VyLlNvdW5kLkJhc2VTb3VuZD4gPSBbXTtcbiAgcHJvdGVjdGVkIGltYWdlczogQXJyYXk8UGhhc2VyLkdhbWVPYmplY3RzLkltYWdlPiA9IFtdO1xuICBwcm90ZWN0ZWQgdGltZUV2ZW50czogQXJyYXk8UGhhc2VyLlRpbWUuVGltZXJFdmVudD4gPSBbXTtcblxuICBjb25zdHJ1Y3RvciAoa2V5OiBzdHJpbmcpIHtcbiAgICBzdXBlcih7XG4gICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICBrZXk6IGtleVxuICAgIH0pO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICB9XG5cbiAgcHJlbG9hZCAoKSB7XG4gICAgdGhpcy5wbHVnaW5zLmluc3RhbGwoJ0RpYWxvZ01vZGFsUGx1Z2luJywgRGlhbG9nTW9kYWxQbHVnaW4sIGZhbHNlLCAnZGlhbG9nTW9kYWwnLCB7IHNjZW5lOiB0aGlzIH0pO1xuICB9XG5cbiAgY3JlYXRlICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5kaWFsb2dNb2RhbCA9IHNlbGYucGx1Z2lucy5nZXQoJ0RpYWxvZ01vZGFsUGx1Z2luJykgYXMgRGlhbG9nTW9kYWxQbHVnaW47XG4gICAgc2VsZi5faW5pdEV2ZW50cygpO1xuXG4gICAgc2VsZi5ydW5TZXF1ZW5jZSgwKTtcbiAgfVxuXG4gIF9pbml0RXZlbnRzICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5nYW1lLmV2ZW50cy5vbignZGlhbG9nTW9kYWxDbGlja2VkJywgKCkgPT4geyBzZWxmLmFkdmFuY2UoKSB9KTtcbiAgICBzZWxmLmdhbWUuZXZlbnRzLm9uKCdhdXRvTmV4dCcsICgpID0+IHsgc2VsZi5hZHZhbmNlKCkgfSk7XG4gIH1cblxuICB1cGRhdGUgKCkge1xuICAgIC8vIFRoaXMgc2hvdWxkIGJlIG92ZXJyaWRkZW4gYnkgdGhlIGNoaWxkIGNsYXNzXG4gIH1cblxuICBwbGF5Q2hhcmFjdGVyVm9pY2UgKGtleSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGlmIChzZWxmLnNvdW5kc1sndm9pY2UnXSkge1xuICAgICAgc2VsZi5zb3VuZHNbJ3ZvaWNlJ10uc3RvcCgpO1xuICAgICAgc2VsZi5zb3VuZHNbJ3ZvaWNlJ10uZGVzdHJveSgpO1xuICAgIH1cbiAgICBzZWxmLnNvdW5kc1sndm9pY2UnXSA9IHNlbGYuc291bmQuYWRkKGtleSk7XG4gICAgc2VsZi5zb3VuZHNbJ3ZvaWNlJ10ucGxheSgpO1xuICB9XG5cbiAgcnVuU2VxdWVuY2UgKGluZGV4KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5ydW5FdmVudChzZWxmLmV2ZW50U2VxdWVuY2UoKVtpbmRleF0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID09IHNlbGYuZXZlbnRTZXF1ZW5jZSgpLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgLy8gRG9uZSwgd3JhcCB1cCBzY2VuZVxuICAgICAgICBzZWxmLndyYXBVcFNjZW5lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDb250aW51ZSB0byBuZXh0IGV2ZW50IGluIHNlcXVlbmNlXG4gICAgICAgIHNlbGYucnVuU2VxdWVuY2UoaW5kZXggKyAxKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJ1bkV2ZW50IChldmVudDogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAodHlwZW9mIGV2ZW50ID09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBzZWxmLnJ1blRleHREaXNwbGF5KGV2ZW50KTtcbiAgICB9IGVsc2VcbiAgICBpZiAodHlwZW9mIGV2ZW50ID09IFwib2JqZWN0XCIpIHtcbiAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfSBlbHNlXG4gICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBXYWl0KSB7XG4gICAgICAgIHJldHVybiBzZWxmLndhaXQoZXZlbnQubGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9IGVsc2VcbiAgICBpZiAodHlwZW9mIGV2ZW50ID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChmdWxmaWxsLCByZWplY3QpID0+IHsgZXZlbnQoKTsgZnVsZmlsbCgpOyB9KTtcbiAgICB9XG4gIH1cblxuICBydW5UZXh0RGlzcGxheSAodGV4dCk6IFByb21pc2U8YW55PiB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChmdWxmaWxsLCByZWplY3QpID0+IHtcbiAgICAgIHZhciBuYW1lID0gbnVsbDtcbiAgICAgIHZhciBvcHRzID0ge307XG5cbiAgICAgIGlmICh0ZXh0LmNoYXJBdCgwKSA9PSBcIitcIikge1xuICAgICAgICBvcHRzWydhcHBlbmQnXSA9IHRydWU7XG4gICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cigxKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRleHQuY2hhckF0KDApID09IFwiW1wiKSB7XG4gICAgICAgIHZhciBuYW1lRW5kID0gdGV4dC5pbmRleE9mKFwiXVwiKTtcbiAgICAgICAgbmFtZSA9IHRleHQuc3Vic3RyKDEsIG5hbWVFbmQgLSAxKTtcbiAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyKG5hbWVFbmQgKyAxKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRleHQuY2hhckF0KHRleHQubGVuZ3RoIC0gMSkgPT0gXCJeXCIpIHtcbiAgICAgICAgb3B0c1snYXV0b2Nsb3NlJ10gPSB0cnVlO1xuICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHIoMCwgdGV4dC5sZW5ndGggLSAxKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5kaWFsb2dNb2RhbC5zZXRUZXh0KHRleHQsIG5hbWUsIG9wdHMpO1xuXG4gICAgICBzZWxmLmdhbWUuZXZlbnRzLm9uKCduZXh0U2VxdWVuY2UnLCAoKSA9PiB7XG4gICAgICAgIGZ1bGZpbGwoKTtcbiAgICAgIH0pXG4gICAgfSk7XG4gIH1cblxuICB3YWl0IChsZW5ndGgpOiBQcm9taXNlPGFueT4ge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoZnVsZmlsbCwgcmVqZWN0KSA9PiB7XG4gICAgICByZXR1cm4gc2VsZi50aW1lLmFkZEV2ZW50KHtcbiAgICAgICAgZGVsYXk6IGxlbmd0aCxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHsgZnVsZmlsbCgpOyB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkdmFuY2UgKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGlmIChzZWxmLmRpYWxvZ01vZGFsLmlzSW5BbmltYXRpb24oKSAmJiAhc2VsZi5kaWFsb2dNb2RhbC5pc0F1dG9jbG9zZSgpKSB7XG4gICAgICBzZWxmLmRpYWxvZ01vZGFsLnNraXBUZXh0QW5pbWF0aW9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuZ2FtZS5ldmVudHMuZW1pdCgnbmV4dFNlcXVlbmNlJyk7XG4gICAgfVxuICB9XG5cbiAgZXZlbnRTZXF1ZW5jZSAoKSB7IHJldHVybiBbXG4gICAgLy8gVGhpcyBzaG91bGQgYmUgb3ZlcnJpZGRlbiBieSB0aGUgY2hpbGQgY2xhc3NcbiAgXX1cblxuICBfcmVtb3ZlRGlhbG9nTW9kYWwoKSB7XG4gICAgdGhpcy5kaWFsb2dNb2RhbC5oaWRlKCk7XG4gICAgdGhpcy5wbHVnaW5zLnJlbW92ZUdsb2JhbFBsdWdpbignRGlhbG9nTW9kYWxQbHVnaW4nKTtcbiAgfVxuXG4gIHdyYXBVcFNjZW5lICgpIHtcbiAgICAvLyBTdG9wIGFsbCBzb3VuZHNcbiAgICBmb3IgKGxldCBzb3VuZCBvZiB0aGlzLnNvdW5kcykge1xuICAgICAgc291bmQuc3RvcCgpO1xuICAgICAgc291bmQuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBEaWFsb2cgTW9kYWxcbiAgICB0aGlzLl9yZW1vdmVEaWFsb2dNb2RhbCgpO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgV2FpdCB7XG4gIHB1YmxpYyBsZW5ndGg6IG51bWJlcjtcbiAgY29uc3RydWN0b3IgKGxlbmd0aDogbnVtYmVyKSB7XG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFBoYXNlciBmcm9tICdwaGFzZXInO1xuaW1wb3J0IHsgQmFzZVNjZW5lIH0gZnJvbSAnLi9fYmFzZSc7XG5pbXBvcnQgeyBTY2VuZVR3byB9IGZyb20gJy4vdHdvJztcbmltcG9ydCB7IFdhaXQgfSBmcm9tICcuL19ldmVudHMnO1xuXG5leHBvcnQgY2xhc3MgU2NlbmVPbmUgZXh0ZW5kcyBCYXNlU2NlbmUge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgc3VwZXIoJ1NjZW5lT25lJyk7XG4gIH1cblxuICBwcmVsb2FkICgpIHtcbiAgICBzdXBlci5wcmVsb2FkKCk7XG4gICAgdGhpcy5sb2FkLmltYWdlKCduaWppZ2FrdS1jbHVicm9vbScsICcuL2Fzc2V0cy9pbWFnZXMvYmFja2dyb3VuZHMvbnNpY3Jvb21fZGF5LnBuZycpO1xuICAgIHRoaXMubG9hZC5pbWFnZSgnc2hpb3Jpa28tbm9ybWFsJywgJy4vYXNzZXRzL2ltYWdlcy9jaGFyYWN0ZXJzL3NoaW9yaWtvX24ucG5nJyk7XG4gICAgdGhpcy5sb2FkLmltYWdlKCdzaGlvcmlrby1hbmdyeScsICcuL2Fzc2V0cy9pbWFnZXMvY2hhcmFjdGVycy9zaGlvcmlrb19hLnBuZycpO1xuICAgIHRoaXMubG9hZC5hdWRpbygnc2hpb3Jpa28tdm9pY2UtMScsICcuL2Fzc2V0cy9hdWRpby92b2ljZXMvY29saS0xLm1wMycpO1xuICAgIHRoaXMubG9hZC5hdWRpbygnc2hpb3Jpa28tdm9pY2UtMicsICcuL2Fzc2V0cy9hdWRpby92b2ljZXMvY29saS0yLm1wMycpO1xuICAgIHRoaXMubG9hZC5hdWRpbygnc2hpb3Jpa28tdm9pY2UtMycsICcuL2Fzc2V0cy9hdWRpby92b2ljZXMvY29saS0zLm1wMycpO1xuICAgIHRoaXMubG9hZC5hdWRpbygnc2hpb3Jpa28tdm9pY2UtNCcsICcuL2Fzc2V0cy9hdWRpby92b2ljZXMvY29saS00Lm1wMycpO1xuICAgIHRoaXMubG9hZC5hdWRpbygnZG9vcicsICcuL2Fzc2V0cy9hdWRpby9zZngvZG9vci5tcDMnKTtcblxuICAgIHZhciBwcm9ncmVzc0JveCA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgdmFyIHByb2dyZXNzQmFyID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICBwcm9ncmVzc0JveC5maWxsU3R5bGUoMHgyMjIyMjIsIDAuOCk7XG4gICAgcHJvZ3Jlc3NCb3guZmlsbFJlY3QoKDE5MjAgLyAyKSAtIDMwMCwgKDEwODAgLyAyKSAtIDUwLCA2MDAsIDEwMCk7XG5cbiAgICB0aGlzLmxvYWQub24oJ3Byb2dyZXNzJywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBwcm9ncmVzc0Jhci5jbGVhcigpO1xuICAgICAgcHJvZ3Jlc3NCYXIuZmlsbFN0eWxlKDB4ZmZmZmZmLCAxKTtcbiAgICAgIHByb2dyZXNzQmFyLmZpbGxSZWN0KCgoMTkyMCAvIDIpIC0gMzAwKSArIDEwLCAoKDEwODAgLyAyKSAtIDUwKSArIDEwLCBNYXRoLm1heCgoNjAwICogdmFsdWUpIC0gMjAsIDApLCAxMDAgLSAyMCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmxvYWQub24oJ2NvbXBsZXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgcHJvZ3Jlc3NCb3guZGVzdHJveSgpO1xuICAgICAgcHJvZ3Jlc3NCYXIuZGVzdHJveSgpO1xuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlICgpIHtcbiAgICBzdXBlci5jcmVhdGUoKTtcbiAgfVxuXG4gIGV2ZW50U2VxdWVuY2UgKCkgeyB2YXIgc2VsZiA9IHRoaXM7IHJldHVybiBbXG4gICAgKCkgPT4ge1xuICAgICAgdGhpcy5pbWFnZXNbJ2JhY2tncm91bmQnXSA9IHRoaXMuYWRkLmltYWdlKDE5MjAgLyAyLCAxMDgwIC8gMiwgJ25pamlnYWt1LWNsdWJyb29tJyk7XG4gICAgICB0aGlzLmltYWdlc1snYmFja2dyb3VuZCddLnNldEFscGhhKDApO1xuICAgICAgdGhpcy5pbWFnZXNbJ2JhY2tncm91bmQnXS5zZXREZXB0aCgxNTAwKTtcbiAgICAgIHRoaXMuYWRkLnR3ZWVuKHtcbiAgICAgICAgdGFyZ2V0czogW3RoaXMuaW1hZ2VzWydiYWNrZ3JvdW5kJ11dLFxuICAgICAgICBkdXJhdGlvbjogNjAwLFxuICAgICAgICBhbHBoYTogeyBmcm9tOiAwLCB0bzogMSB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgICdXYWt0dSBpdHUsIGVudGFoIG1lbmdhcGEgdGliYS10aWJhIE1pZnVuZSBtYXN1ayBrZSBkYWxhbSBydWFuZ2FuLicsXG4gICAgbmV3IFdhaXQoNDAwKSxcbiAgICAoKSA9PiB7XG4gICAgICB0aGlzLnNvdW5kc1snZG9vciddID0gdGhpcy5zb3VuZC5hZGQoJ2Rvb3InKTtcbiAgICAgIHRoaXMuc291bmRzWydkb29yJ10ucGxheSgpO1xuICAgIH0sXG4gICAgbmV3IFdhaXQoNDAwKSxcbiAgICAoKSA9PiB7XG4gICAgICB0aGlzLmltYWdlc1snc2hpb3Jpa28nXSA9IHRoaXMuYWRkLmltYWdlKDE5MjAgLyAyLCA2NjAsICdzaGlvcmlrby1ub3JtYWwnKTtcbiAgICAgIHRoaXMuaW1hZ2VzWydzaGlvcmlrbyddLnNldEFscGhhKDApO1xuICAgICAgdGhpcy5pbWFnZXNbJ3NoaW9yaWtvJ10uc2V0RGVwdGgoMTUwMSk7XG4gICAgICB0aGlzLmFkZC50d2Vlbih7XG4gICAgICAgIHRhcmdldHM6IFt0aGlzLmltYWdlc1snc2hpb3Jpa28nXV0sXG4gICAgICAgIGR1cmF0aW9uOiA2MDAsXG4gICAgICAgIGFscGhhOiB7IGZyb206IDAsIHRvOiAxIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbmV3IFdhaXQoMTAwMCksXG4gICAgJ1tTaGlvcmlrb10uLi4nLFxuICAgICdEaWEgZGlhbSBtZW5hdGFwa3UgdGFqYW0uJyxcbiAgICAnW0FrdV1NaWZ1bmUuLi4gYWRhIGFwYT8nLFxuICAgIG5ldyBXYWl0KDEwMCksXG4gICAgKCkgPT4ge1xuICAgICAgdGhpcy5pbWFnZXNbJ3NoaW9yaWtvJ10uc2V0VGV4dHVyZSgnc2hpb3Jpa28tYW5ncnknKTtcbiAgICB9LFxuICAgICdUaWJhLXRpYmEgd2FqYWhueWEgYmVydWJhaCBiZW5naXMuJyxcbiAgICAoKSA9PiB7XG4gICAgICB0aGlzLnBsYXlDaGFyYWN0ZXJWb2ljZSgnc2hpb3Jpa28tdm9pY2UtMScpO1xuICAgIH0sXG4gICAgJ1tTaGlvcmlrb11FaCwgc2VtdWFueWEuJyxcbiAgICAnW0FrdV1BaC4uLj8nLFxuICAgICgpID0+IHtcbiAgICAgIHRoaXMuYWRkLnR3ZWVuKHtcbiAgICAgICAgdGFyZ2V0czogW3RoaXMuaW1hZ2VzWydzaGlvcmlrbyddXSxcbiAgICAgICAgZHVyYXRpb246IDYwMCxcbiAgICAgICAgc2NhbGU6IHsgZnJvbTogMSwgdG86IDEuMiB9LFxuICAgICAgfSk7XG4gICAgICB0aGlzLnBsYXlDaGFyYWN0ZXJWb2ljZSgnc2hpb3Jpa28tdm9pY2UtMicpO1xuICAgIH0sXG4gICAgJ1tTaGlvcmlrb11LYWxhdSBkaSBncnVwIHR1aCBqYW5nYW4gYmVyaXNpay4uLicsXG4gICAgJ1tBa3VdTWksIE1pZnVuZS4uLj8nLFxuICAgICgpID0+IHtcbiAgICAgIHRoaXMuYWRkLnR3ZWVuKHtcbiAgICAgICAgdGFyZ2V0czogW3RoaXMuaW1hZ2VzWydzaGlvcmlrbyddXSxcbiAgICAgICAgZHVyYXRpb246IDYwMCxcbiAgICAgICAgc2NhbGU6IHsgZnJvbTogMS4yLCB0bzogMS44IH0sXG4gICAgICAgIHk6IHsgZnJvbTogNjYwLCB0bzogODAwIH0sXG4gICAgICB9KTtcbiAgICAgIHRoaXMucGxheUNoYXJhY3RlclZvaWNlKCdzaGlvcmlrby12b2ljZS0zJyk7XG4gICAgfSxcbiAgICAoKSA9PiB7XG4gICAgICB0aGlzLnRpbWVFdmVudHNbJ2F1dG9za2lwJ10gPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xuICAgICAgICBkZWxheTogNTAwMCxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmdhbWUuZXZlbnRzLmVtaXQoJ25leHRTZXF1ZW5jZScpO1xuICAgICAgICB9LFxuICAgICAgICBjYWxsYmFja1Njb3BlOiB0aGlzXG4gICAgICB9KTtcbiAgICB9LFxuICAgICdbU2hpb3Jpa29dVWRhaCB0YXUgZ3VlIGxhZ2kgY29saSBsdSBtYWxhaCBwYWRhIGJlcmlzaWsgQU5KSU5HISBLT05UT0whJyxcbiAgICAoKSA9PiB7IHRoaXMudGltZUV2ZW50c1snYXV0b3NraXAnXS5yZW1vdmUoZmFsc2UpOyB0aGlzLnRpbWVFdmVudHNbJ2F1dG9za2lwJ10uZGVzdHJveSgpOyB9LFxuICAgICgpID0+IHtcbiAgICAgIHRoaXMuYWRkLnR3ZWVuKHtcbiAgICAgICAgdGFyZ2V0czogW3RoaXMuaW1hZ2VzWydzaGlvcmlrbyddXSxcbiAgICAgICAgZHVyYXRpb246IDIwMDAsXG4gICAgICAgIHNjYWxlOiB7IGZyb206IDEuOCwgdG86IDUgfSxcbiAgICAgICAgeTogeyBmcm9tOiA4MDAsIHRvOiAyMDAwIH0sXG4gICAgICB9KTtcbiAgICAgIHRoaXMucGxheUNoYXJhY3RlclZvaWNlKCdzaGlvcmlrby12b2ljZS00Jyk7XG4gICAgfSxcbiAgICAoKSA9PiB7XG4gICAgICB0aGlzLnRpbWVFdmVudHNbJ2F1dG9za2lwJ10gPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xuICAgICAgICBkZWxheTogMjUwMCxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmdhbWUuZXZlbnRzLmVtaXQoJ25leHRTZXF1ZW5jZScpO1xuICAgICAgICB9LFxuICAgICAgICBjYWxsYmFja1Njb3BlOiB0aGlzXG4gICAgICB9KTtcbiAgICB9LFxuICAgICdbU2hpb3Jpa29dSGVucG9uIGd1ZSBqYWRpIG5nZWxlZyBuaWggZ3VFIExBR0kgQ09MSSBXT0VFRUlJSUlJJyxcbiAgICAoKSA9PiB7IHRoaXMudGltZUV2ZW50c1snYXV0b3NraXAnXS5yZW1vdmUoZmFsc2UpOyB0aGlzLnRpbWVFdmVudHNbJ2F1dG9za2lwJ10uZGVzdHJveSgpOyB9LFxuICAgICgpID0+IHtcbiAgICAgIHZhciB0YXJnZXRzID0gW107XG4gICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuaW1hZ2VzKSB7XG4gICAgICAgIHRhcmdldHMucHVzaChpdGVtKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hZGQudHdlZW4oe1xuICAgICAgICB0YXJnZXRzOiBbdGhpcy5pbWFnZXNbJ3NoaW9yaWtvJ10sIHRoaXMuaW1hZ2VzWydiYWNrZ3JvdW5kJ11dLFxuICAgICAgICBkdXJhdGlvbjogMTAwMCxcbiAgICAgICAgYWxwaGE6IHsgZnJvbTogMSwgdG86IDAgfSxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbmV3IFdhaXQoMTUwMCksXG4gICAgKCkgPT4geyB0aGlzLmRpYWxvZ01vZGFsLmhpZGUoKTsgfSxcbiAgICBuZXcgV2FpdCg1MDAwKSxcbiAgXX1cblxuICB3cmFwVXBTY2VuZSgpIHtcbiAgICB0aGlzLnJ1blNlcXVlbmNlKDApO1xuICAgIHJldHVybiB0cnVlO1xuXG4gICAgc3VwZXIud3JhcFVwU2NlbmUoKTtcblxuICAgIHRoaXMudGltZS5hZGRFdmVudCh7XG4gICAgICBkZWxheTogMTAwMCxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKG51bGwsIFNjZW5lVHdvLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zY2VuZS5yZW1vdmUodGhpcy5rZXkpO1xuICAgICAgfSxcbiAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXNcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgUGhhc2VyIGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBCYXNlU2NlbmUgfSBmcm9tICcuL19iYXNlJztcbmltcG9ydCB7IFNjZW5lT25lIH0gZnJvbSAnLi9vbmUnO1xuaW1wb3J0IHsgRGlhbG9nTW9kYWxQbHVnaW4gfSBmcm9tICcuLi9wbHVnaW5zL2RpYWxvZyc7XG5cbmV4cG9ydCBjbGFzcyBTY2VuZVR3byBleHRlbmRzIEJhc2VTY2VuZSB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICBzdXBlcignU2NlbmVUd28nKTtcbiAgfVxuXG4gIGV2ZW50U2VxdWVuY2UgKCkgeyByZXR1cm4gW1xuICAgICdTa2lwLidcbiAgXX1cblxuICB3cmFwVXBTY2VuZSgpIHtcbiAgICBzdXBlci53cmFwVXBTY2VuZSgpO1xuXG4gICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcbiAgICAgIGRlbGF5OiAxMDAwLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQobnVsbCwgU2NlbmVPbmUsIHRydWUpO1xuICAgICAgICB0aGlzLnNjZW5lLnJlbW92ZSh0aGlzLmtleSk7XG4gICAgICB9LFxuICAgICAgY2FsbGJhY2tTY29wZTogdGhpc1xuICAgIH0pO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9